<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>getButton - 自訂設定範例</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }
        
        .demo-card {
            padding: 30px;
            border: 2px solid #e9ecef;
            border-radius: 16px;
            background: #f8f9fa;
            text-align: center;
        }
        
        .demo-card h3 {
            margin-top: 0;
            color: #00B900;
        }
        
        .demo-card p {
            margin-bottom: 20px;
            color: #6c757d;
        }
        
        .settings-display {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            margin: 15px 0;
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎨 getButton 自訂設定範例</h1>
        <p>展示不同的自訂設定選項和主題樣式。</p>

        <div class="demo-grid">
            <div class="demo-card">
                <h3>預設樣式</h3>
                <p>使用預設的綠色 Line 主題</p>
                <div class="settings-display">
{<br>
&nbsp;&nbsp;theme: 'green',<br>
&nbsp;&nbsp;buttonText: 'Line'<br>
}
                </div>
                <div id="line-button-default"></div>
            </div>

            <div class="demo-card">
                <h3>白色主題</h3>
                <p>使用白色背景的主題樣式</p>
                <div class="settings-display">
{<br>
&nbsp;&nbsp;theme: 'white',<br>
&nbsp;&nbsp;buttonText: 'Line'<br>
}
                </div>
                <div id="line-button-white"></div>
            </div>

            <div class="demo-card">
                <h3>自訂文字</h3>
                <p>自訂按鈕顯示的文字內容</p>
                <div class="settings-display">
{<br>
&nbsp;&nbsp;buttonText: 'Line 聯絡我們',<br>
&nbsp;&nbsp;theme: 'green'<br>
}
                </div>
                <div id="line-button-text"></div>
            </div>

            <div class="demo-card">
                <h3>完整自訂</h3>
                <p>自訂所有可用的設定選項</p>
                <div class="settings-display">
{<br>
&nbsp;&nbsp;qrCodeImage: 'custom-qr.png',<br>
&nbsp;&nbsp;lineUrl: 'https://lin.ee/custom',<br>
&nbsp;&nbsp;buttonText: '加入官方 Line',<br>
&nbsp;&nbsp;theme: 'white'<br>
}
                </div>
                <div id="line-button-full"></div>
            </div>
        </div>

        <div style="margin-top: 50px; padding: 30px; background: #e3f2fd; border-radius: 12px;">
            <h3 style="color: #1565c0; margin-top: 0;">💡 使用提示</h3>
            <ul style="text-align: left;">
                <li>所有設定都是可選的，未設定的選項會使用預設值</li>
                <li>可以在頁面載入前設定 <code>window.getButtonConfig</code></li>
                <li>支援動態更改設定（需要重新初始化）</li>
                <li>QR Code 圖片支援 PNG、JPG、SVG 格式</li>
                <li>建議 QR Code 圖片尺寸為 200x200 像素</li>
            </ul>
        </div>
    </div>

    <!-- 預設按鈕 -->
    <script>
        window.getButtonConfig = {
            qrCodeImage: '../src/assets/line-qr.svg',
            lineUrl: 'https://lin.ee/mk5SfVU',
            buttonText: 'Line',
            theme: 'green'
        };
    </script>
    <script src="../dist/getButton.js"></script>

    <!-- 其他按鈕的自訂邏輯 -->
    <script>
        // 建立不同設定的按鈕
        const buttonConfigs = [
            {
                target: 'line-button-white',
                config: {
                    qrCodeImage: '../src/assets/line-qr.png',
                    lineUrl: 'https://lin.ee/mk5SfVU',
                    buttonText: 'Line',
                    theme: 'white'
                }
            },
            {
                target: 'line-button-text',
                config: {
                    qrCodeImage: '../src/assets/line-qr.png',
                    lineUrl: 'https://lin.ee/mk5SfVU',
                    buttonText: 'Line 聯絡我們',
                    theme: 'green'
                }
            },
            {
                target: 'line-button-full',
                config: {
                    qrCodeImage: '../src/assets/line-qr.png',
                    lineUrl: 'https://lin.ee/custom-example',
                    buttonText: '加入官方 Line',
                    theme: 'white'
                }
            }
        ];

        // 等待主腳本載入完成
        setTimeout(() => {
            buttonConfigs.forEach(({ target, config }) => {
                const targetElement = document.getElementById(target);
                if (targetElement) {
                    createCustomButton(targetElement, config);
                }
            });
        }, 100);

        function createCustomButton(target, config) {
            const container = document.createElement('div');
            container.className = 'getbutton-container';
            
            const button = document.createElement('button');
            button.className = `getbutton-btn${config.theme === 'white' ? ' theme-white' : ''}`;
            
            const iconSvg = `
                <svg class="getbutton-icon" viewBox="0 0 24 24">
                    <path d="M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.28-.63.626-.63.352 0 .631.285.631.63v4.771z"/>
                    <path d="M17.108 1.807c-7.7-.838-14.429 4.755-15.267 12.455-.838 7.7 4.755 14.429 12.455 15.267 7.7.838 14.429-4.755 15.267-12.455.838-7.7-4.755-14.429-12.455-15.267zM12 21c-4.97 0-9-4.03-9-9s4.03-9 9-9 9 4.03 9 9-4.03 9-9 9z"/>
                </svg>
            `;
            
            button.innerHTML = iconSvg + config.buttonText;
            
            // 添加點擊事件
            button.addEventListener('click', () => {
                showCustomModal(config);
            });
            
            container.appendChild(button);
            target.appendChild(container);
        }

        function showCustomModal(config) {
            // 建立模擬彈窗（簡化版）
            const overlay = document.createElement('div');
            overlay.className = 'getbutton-overlay show';
            overlay.style.position = 'fixed';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = '100%';
            overlay.style.height = '100%';
            overlay.style.background = 'rgba(0, 0, 0, 0.5)';
            overlay.style.zIndex = '10000';
            overlay.style.display = 'flex';
            overlay.style.alignItems = 'center';
            overlay.style.justifyContent = 'center';
            
            const modal = document.createElement('div');
            modal.style.background = 'white';
            modal.style.borderRadius = '16px';
            modal.style.padding = '24px';
            modal.style.maxWidth = '320px';
            modal.style.width = '90%';
            modal.style.textAlign = 'center';
            modal.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.15)';
            
            modal.innerHTML = `
                <h3 style="color: #00B900; margin-top: 0; display: flex; align-items: center; justify-content: center; gap: 8px;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.28-.63.626-.63.352 0 .631.285.631.63v4.771z"/>
                    </svg>
                    Line
                </h3>
                <img src="${config.qrCodeImage}" alt="Line QR Code" style="width: 200px; height: 200px; border: 1px solid #e9ecef; border-radius: 8px; object-fit: contain;" />
                <div style="background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 8px; padding: 12px; font-size: 12px; color: #6c757d; word-break: break-all; margin-top: 16px;">
                    ${config.lineUrl}
                </div>
                <button onclick="this.closest('.getbutton-overlay').remove()" style="position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 24px; cursor: pointer; color: #6c757d;">×</button>
            `;
            
            modal.style.position = 'relative';
            overlay.appendChild(modal);
            
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.remove();
                }
            });
            
            document.body.appendChild(overlay);
        }
    </script>
</body>
</html>
